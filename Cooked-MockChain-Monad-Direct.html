<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.MockChain.Monad.Direct</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators-0.2.0</span><ul class="links" id="page-menu"><li><a href="src/Cooked.MockChain.Monad.Direct.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.MockChain.Monad.Direct</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Direct Emulation</a><ul><li><a href="#g:2">Direct Interpretation of Operations</a></li></ul></li><li><a href="#g:3">Utilities</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mcstToUtxoState">mcstToUtxoState</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:MockChainSt">MockChainSt</a> = <a href="#v:MockChainSt">MockChainSt</a> {<ul class="subs"><li><a href="#v:mcstIndex">mcstIndex</a> :: UtxoIndex</li><li><a href="#v:mcstDatums">mcstDatums</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Map" title="Distribution.Compat.Prelude.Internal">Map</a> DatumHash Datum</li><li><a href="#v:mcstStrDatums">mcstStrDatums</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Map" title="Distribution.Compat.Prelude.Internal">Map</a> DatumHash <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a></li><li><a href="#v:mcstCurrentSlot">mcstCurrentSlot</a> :: Slot</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:MockChainError">MockChainError</a><ul class="subs"><li>= <a href="#v:MCEValidationError">MCEValidationError</a> ValidationErrorInPhase</li><li>| <a href="#v:MCETxError">MCETxError</a> MkTxError</li><li>| <a href="#v:MCEUnbalanceable">MCEUnbalanceable</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> Tx <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a></li><li>| <a href="#v:MCENoSuitableCollateral">MCENoSuitableCollateral</a></li><li>| <a href="#v:FailWith">FailWith</a> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:BalanceStage">BalanceStage</a><ul class="subs"><li>= <a href="#v:BalCalcFee">BalCalcFee</a></li><li>| <a href="#v:BalFinalizing">BalFinalizing</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:MockChainEnv">MockChainEnv</a> = <a href="#v:MockChainEnv">MockChainEnv</a> {<ul class="subs"><li><a href="#v:mceParams">mceParams</a> :: Params</li><li><a href="#v:mceSigners">mceSigners</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:MockChainT">MockChainT</a> m a = <a href="#v:MockChainT">MockChainT</a> {<ul class="subs"><li><a href="#v:unMockChain">unMockChain</a> :: <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> (<a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> (<a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> m)) a</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:MockChain">MockChain</a> = <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Identity" title="Distribution.Compat.Prelude.Internal">Identity</a></li><li class="src short"><a href="#v:combineMockChainT">combineMockChainT</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (<span class="keyword">forall</span> a. m a -&gt; m a -&gt; m a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x</li><li class="src short"><a href="#v:mapMockChainT">mapMockChainT</a> :: (m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)) -&gt; n (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (b, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>))) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> n b</li><li class="src short"><a href="#v:runMockChainTRaw">runMockChainTRaw</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>))</li><li class="src short"><a href="#v:runMockChainTFrom">runMockChainTFrom</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>))</li><li class="src short"><a href="#v:runMockChainT">runMockChainT</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>))</li><li class="src short"><a href="#v:runMockChainRaw">runMockChainRaw</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)</li><li class="src short"><a href="#v:runMockChainFrom">runMockChainFrom</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>)</li><li class="src short"><a href="#v:runMockChain">runMockChain</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>)</li><li class="src short"><a href="#v:utxoState0">utxoState0</a> :: <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></li><li class="src short"><a href="#v:mockChainSt0">mockChainSt0</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></li><li class="src short"><a href="#v:mockChainSt0From">mockChainSt0From</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></li><li class="src short"><a href="#v:utxoIndex0From">utxoIndex0From</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; UtxoIndex</li><li class="src short"><a href="#v:utxoIndex0">utxoIndex0</a> :: UtxoIndex</li><li class="src short"><a href="#v:runTransactionValidation">runTransactionValidation</a> :: Slot -&gt; Params -&gt; UtxoIndex -&gt; [PaymentPubKeyHash] -&gt; [<a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>] -&gt; Tx -&gt; (UtxoIndex, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> ValidationErrorInPhase, [ScriptValidationEvent])</li><li class="src short"><a href="#v:validateTx-39-">validateTx'</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; [PaymentPubKeyHash] -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m TxId</li><li class="src short"><a href="#v:utxosSuchThat-39-">utxosSuchThat'</a> :: <span class="keyword">forall</span> a m. (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m, FromData a) =&gt; Address -&gt; (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a -&gt; Value -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)]</li><li class="src short"><a href="#v:generateUnbalTx">generateUnbalTx</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> UnbalancedTx</li><li class="src short"><a href="#v:myAdjustUnbalTx">myAdjustUnbalTx</a> :: Params -&gt; UnbalancedTx -&gt; UnbalancedTx</li><li class="src short"><a href="#v:generateTx-39-">generateTx'</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m ([PaymentPubKeyHash], Tx)</li><li class="src short"><a href="#v:setFeeAndValidRange">setFeeAndValidRange</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; UnbalancedTx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Tx</li><li class="src short"><a href="#v:balanceTxFrom">balanceTxFrom</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> -&gt; <a href="Cooked-Tx-Constraints-Type.html#t:Collateral" title="Cooked.Tx.Constraints.Type">Collateral</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; UnbalancedTx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m ([PaymentPubKeyHash], Tx)</li><li class="src short"><a href="#v:calcCollateral">calcCollateral</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-Tx-Constraints-Type.html#t:Collateral" title="Cooked.Tx.Constraints.Type">Collateral</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> TxIn)</li><li class="src short"><a href="#v:balanceTxFromAux">balanceTxFromAux</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Tx</li><li class="src short"><span class="keyword">data</span> <a href="#t:BalanceTxRes">BalanceTxRes</a> = <a href="#v:BalanceTxRes">BalanceTxRes</a> {<ul class="subs"><li><a href="#v:newInputs">newInputs</a> :: [TxOutRef]</li><li><a href="#v:returnValue">returnValue</a> :: Value</li><li><a href="#v:remainderUtxos">remainderUtxos</a> :: [(TxOutRef, TxOut)]</li></ul>}</li><li class="src short"><a href="#v:calcBalanceTx">calcBalanceTx</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a></li><li class="src short"><a href="#v:applyBalanceTx">applyBalanceTx</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; Tx -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> Tx</li><li class="src short"><a href="#v:onlyAdaPkTxOut">onlyAdaPkTxOut</a> :: TxOut -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> PubKeyHash</li><li class="src short"><a href="#v:addressIsPK">addressIsPK</a> :: Address -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> PubKeyHash</li><li class="src short"><a href="#v:rstr">rstr</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (a, m b) -&gt; m (a, b)</li><li class="src short"><a href="#v:assocl">assocl</a> :: (a, (b, c)) -&gt; ((a, b), c)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Direct Emulation</h1></a><div class="doc"><p>The MockChainT monad provides a direct emulator; that is, it gives us a simple way to call
 validator scripts directly, without the need for all the complexity the <code>Contract</code>
 monad introduces.</p><p>Running a <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a></code> produces a <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code>, which is a map from <code>Address</code> to
 <code>(Pl.Value, Maybe Pl.Datum)</code>, and corresponds to the utxo mental model most people have.
 Internally, however, we keep a <code>UtxoIndex</code> in our state and feeding it to <code><a href="Pl.html#v:validateTx" title="Pl">validateTx</a></code>.
 For convenience, we also keep a map of <code>Address</code> to <code>Datum</code>, giving is a simple
 way of managing the current utxo state.</p></div><div class="top"><p class="src"><a id="v:mcstToUtxoState" class="def">mcstToUtxoState</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> <a href="src/Cooked.MockChain.Monad.Direct.html#mcstToUtxoState" class="link">Source</a> <a href="#v:mcstToUtxoState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MockChainSt" class="def">MockChainSt</a> <a href="src/Cooked.MockChain.Monad.Direct.html#MockChainSt" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></p><div class="doc"><p>Slightly more concrete version of <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code>, used to actually run the simulation.
  We keep a map from datum hash to datum, then a map from txOutRef to datumhash
  Additionally, we also keep a map from datum hash to the underlying value's &quot;show&quot; result,
  in order to display the contents of the state to the user.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MockChainSt" class="def">MockChainSt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mcstIndex" class="def">mcstIndex</a> :: UtxoIndex</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstDatums" class="def">mcstDatums</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Map" title="Distribution.Compat.Prelude.Internal">Map</a> DatumHash Datum</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstStrDatums" class="def">mcstStrDatums</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Map" title="Distribution.Compat.Prelude.Internal">Map</a> DatumHash <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstCurrentSlot" class="def">mcstCurrentSlot</a> :: Slot</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MockChainSt">Instances</h4><details id="i:MockChainSt" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Eq:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Eq" title="Distribution.Compat.Prelude.Internal">Eq</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-88" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Show:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-88" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:MonadFail:3"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-104" class="link">Source</a> <a href="#t:MonadFail" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:MonadFail:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Semigroup:4"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-109" class="link">Source</a> <a href="#t:Semigroup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Integral" title="Distribution.Compat.Prelude.Internal">Integral</a> b =&gt; b -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Monoid:5"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-114" class="link">Source</a> <a href="#t:Monoid" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Monoid:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a>] -&gt; <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Alternative:6"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-100" class="link">Source</a> <a href="#t:Alternative" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Alternative:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Default:7"></span> Default <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-216" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Default:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:MonadMockChain:8"></span> <a href="Cooked-MockChain-Monad.html#t:MonadMockChain" title="Cooked.MockChain.Monad">MonadMockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-179" class="link">Source</a> <a href="#t:MonadMockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:MonadMockChain:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:signingWith">signingWith</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#signingWith" class="link">Source</a> <a href="#v:signingWith" class="selflink">#</a></p><p class="src"><a href="#v:askSigners">askSigners</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>) <a href="src/Cooked.MockChain.Monad.html#askSigners" class="link">Source</a> <a href="#v:askSigners" class="selflink">#</a></p><p class="src"><a href="#v:params">params</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Params <a href="src/Cooked.MockChain.Monad.html#params" class="link">Source</a> <a href="#v:params" class="selflink">#</a></p><p class="src"><a href="#v:localParams">localParams</a> :: (Params -&gt; Params) -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#localParams" class="link">Source</a> <a href="#v:localParams" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:MonadBlockChain:9"></span> <a href="Cooked-MockChain-Monad.html#t:MonadBlockChain" title="Cooked.MockChain.Monad">MonadBlockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-169" class="link">Source</a> <a href="#t:MonadBlockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:MonadBlockChain:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:validateTxSkel">validateTxSkel</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> CardanoTx <a href="src/Cooked.MockChain.Monad.html#validateTxSkel" class="link">Source</a> <a href="#v:validateTxSkel" class="selflink">#</a></p><p class="src"><a href="#v:utxosSuchThat">utxosSuchThat</a> :: FromData a =&gt; Address -&gt; <a href="Cooked-MockChain-UtxoPredicate.html#t:UtxoPredicate" title="Cooked.MockChain.UtxoPredicate">UtxoPredicate</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)] <a href="src/Cooked.MockChain.Monad.html#utxosSuchThat" class="link">Source</a> <a href="#v:utxosSuchThat" class="selflink">#</a></p><p class="src"><a href="#v:txOutByRef">txOutByRef</a> :: TxOutRef -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOut) <a href="src/Cooked.MockChain.Monad.html#txOutByRef" class="link">Source</a> <a href="#v:txOutByRef" class="selflink">#</a></p><p class="src"><a href="#v:ownPaymentPubKeyHash">ownPaymentPubKeyHash</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> PubKeyHash <a href="src/Cooked.MockChain.Monad.html#ownPaymentPubKeyHash" class="link">Source</a> <a href="#v:ownPaymentPubKeyHash" class="selflink">#</a></p><p class="src"><a href="#v:currentSlot">currentSlot</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#currentSlot" class="link">Source</a> <a href="#v:currentSlot" class="selflink">#</a></p><p class="src"><a href="#v:currentTime">currentTime</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#currentTime" class="link">Source</a> <a href="#v:currentTime" class="selflink">#</a></p><p class="src"><a href="#v:awaitSlot">awaitSlot</a> :: Slot -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#awaitSlot" class="link">Source</a> <a href="#v:awaitSlot" class="selflink">#</a></p><p class="src"><a href="#v:awaitTime">awaitTime</a> :: POSIXTime -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#awaitTime" class="link">Source</a> <a href="#v:awaitTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:InterpLtl:10"></span> <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-121" class="link">Source</a> <a href="#t:InterpLtl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:InterpLtl:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:interpBuiltin">interpBuiltin</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a>] <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a> a <a href="src/Cooked.Ltl.html#interpBuiltin" class="link">Source</a> <a href="#v:interpBuiltin" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:MonadState:11"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:MonadState:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MockChainError" class="def">MockChainError</a> <a href="src/Cooked.MockChain.Monad.Direct.html#MockChainError" class="link">Source</a> <a href="#t:MockChainError" class="selflink">#</a></p><div class="doc"><p>The errors that can be produced by the <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></code> monad</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MCEValidationError" class="def">MCEValidationError</a> ValidationErrorInPhase</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MCETxError" class="def">MCETxError</a> MkTxError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MCEUnbalanceable" class="def">MCEUnbalanceable</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> Tx <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MCENoSuitableCollateral" class="def">MCENoSuitableCollateral</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:FailWith" class="def">FailWith</a> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MockChainError">Instances</h4><details id="i:MockChainError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainError:Eq:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Eq" title="Distribution.Compat.Prelude.Internal">Eq</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-100" class="link">Source</a> <a href="#t:MockChainError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainError:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainError:Show:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-100" class="link">Source</a> <a href="#t:MockChainError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainError:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainError:MonadError:3"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainError:MonadError:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BalanceStage" class="def">BalanceStage</a> <a href="src/Cooked.MockChain.Monad.Direct.html#BalanceStage" class="link">Source</a> <a href="#t:BalanceStage" class="selflink">#</a></p><div class="doc"><p>Describes us which stage of the balancing process are we at. This is needed
  to distinguish the successive calls to balancing while computing fees from
  the final call to balancing</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BalCalcFee" class="def">BalCalcFee</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:BalFinalizing" class="def">BalFinalizing</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BalanceStage">Instances</h4><details id="i:BalanceStage" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:BalanceStage:Eq:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Eq" title="Distribution.Compat.Prelude.Internal">Eq</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-108" class="link">Source</a> <a href="#t:BalanceStage" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:BalanceStage:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:BalanceStage:Show:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-108" class="link">Source</a> <a href="#t:BalanceStage" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:BalanceStage:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MockChainEnv" class="def">MockChainEnv</a> <a href="src/Cooked.MockChain.Monad.Direct.html#MockChainEnv" class="link">Source</a> <a href="#t:MockChainEnv" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MockChainEnv" class="def">MockChainEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mceParams" class="def">mceParams</a> :: Params</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mceSigners" class="def">mceSigners</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MockChainEnv">Instances</h4><details id="i:MockChainEnv" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainEnv:Show:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-114" class="link">Source</a> <a href="#t:MockChainEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainEnv:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainEnv:Default:2"></span> Default <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-116" class="link">Source</a> <a href="#t:MockChainEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainEnv:Default:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainEnv:MonadReader:3"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainEnv:MonadReader:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a>) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:MockChainT" class="def">MockChainT</a> m a <a href="src/Cooked.MockChain.Monad.Direct.html#MockChainT" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></p><div class="doc"><p>The actual <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></code> is a trivial combination of <code><a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a></code> and <code><a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MockChainT" class="def">MockChainT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unMockChain" class="def">unMockChain</a> :: <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> (<a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> (<a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> m)) a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MockChainT">Instances</h4><details id="i:MockChainT" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadTrans:1"></span> <a href="http://hackage.haskell.org/packages/archive/transformers/latest/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-135" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:InterpLtl:2"></span> <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-121" class="link">Source</a> <a href="#t:InterpLtl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:InterpLtl:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:interpBuiltin">interpBuiltin</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a>] <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a> a <a href="src/Cooked.Ltl.html#interpBuiltin" class="link">Source</a> <a href="#v:interpBuiltin" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadState:3"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadState:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadReader:4"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadReader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a>) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadError:5"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadError:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:Monad:6"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-128" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:Monad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; (a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:Functor:7"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:Functor:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadFail:8"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-132" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadFail:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:Applicative:9"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-122" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:Applicative:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m (a -&gt; b) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m b -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadPlus:10"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadPlus" title="Distribution.Compat.Prelude.Internal">MonadPlus</a> m =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadPlus" title="Distribution.Compat.Prelude.Internal">MonadPlus</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-117" class="link">Source</a> <a href="#t:MonadPlus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadPlus:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mzero">mzero</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:mzero" class="selflink">#</a></p><p class="src"><a href="#v:mplus">mplus</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:mplus" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:Alternative:11"></span> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-138" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:Alternative:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadMockChain:12"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad.html#t:MonadMockChain" title="Cooked.MockChain.Monad">MonadMockChain</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-251" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadMockChain:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:signingWith">signingWith</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="src/Cooked.MockChain.Monad.html#signingWith" class="link">Source</a> <a href="#v:signingWith" class="selflink">#</a></p><p class="src"><a href="#v:askSigners">askSigners</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>) <a href="src/Cooked.MockChain.Monad.html#askSigners" class="link">Source</a> <a href="#v:askSigners" class="selflink">#</a></p><p class="src"><a href="#v:params">params</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Params <a href="src/Cooked.MockChain.Monad.html#params" class="link">Source</a> <a href="#v:params" class="selflink">#</a></p><p class="src"><a href="#v:localParams">localParams</a> :: (Params -&gt; Params) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a <a href="src/Cooked.MockChain.Monad.html#localParams" class="link">Source</a> <a href="#v:localParams" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainT:MonadBlockChain:13"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad.html#t:MonadBlockChain" title="Cooked.MockChain.Monad">MonadBlockChain</a> (<a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-227" class="link">Source</a> <a href="#t:MockChainT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainT:MonadBlockChain:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:validateTxSkel">validateTxSkel</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m CardanoTx <a href="src/Cooked.MockChain.Monad.html#validateTxSkel" class="link">Source</a> <a href="#v:validateTxSkel" class="selflink">#</a></p><p class="src"><a href="#v:utxosSuchThat">utxosSuchThat</a> :: FromData a =&gt; Address -&gt; <a href="Cooked-MockChain-UtxoPredicate.html#t:UtxoPredicate" title="Cooked.MockChain.UtxoPredicate">UtxoPredicate</a> a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)] <a href="src/Cooked.MockChain.Monad.html#utxosSuchThat" class="link">Source</a> <a href="#v:utxosSuchThat" class="selflink">#</a></p><p class="src"><a href="#v:txOutByRef">txOutByRef</a> :: TxOutRef -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOut) <a href="src/Cooked.MockChain.Monad.html#txOutByRef" class="link">Source</a> <a href="#v:txOutByRef" class="selflink">#</a></p><p class="src"><a href="#v:ownPaymentPubKeyHash">ownPaymentPubKeyHash</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m PubKeyHash <a href="src/Cooked.MockChain.Monad.html#ownPaymentPubKeyHash" class="link">Source</a> <a href="#v:ownPaymentPubKeyHash" class="selflink">#</a></p><p class="src"><a href="#v:currentSlot">currentSlot</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Slot <a href="src/Cooked.MockChain.Monad.html#currentSlot" class="link">Source</a> <a href="#v:currentSlot" class="selflink">#</a></p><p class="src"><a href="#v:currentTime">currentTime</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m POSIXTime <a href="src/Cooked.MockChain.Monad.html#currentTime" class="link">Source</a> <a href="#v:currentTime" class="selflink">#</a></p><p class="src"><a href="#v:awaitSlot">awaitSlot</a> :: Slot -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Slot <a href="src/Cooked.MockChain.Monad.html#awaitSlot" class="link">Source</a> <a href="#v:awaitSlot" class="selflink">#</a></p><p class="src"><a href="#v:awaitTime">awaitTime</a> :: POSIXTime -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m POSIXTime <a href="src/Cooked.MockChain.Monad.html#awaitTime" class="link">Source</a> <a href="#v:awaitTime" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MockChain" class="def">MockChain</a> = <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Identity" title="Distribution.Compat.Prelude.Internal">Identity</a> <a href="src/Cooked.MockChain.Monad.Direct.html#MockChain" class="link">Source</a> <a href="#t:MockChain" class="selflink">#</a></p><div class="doc"><p>Non-transformer variant</p></div></div><div class="top"><p class="src"><a id="v:combineMockChainT" class="def">combineMockChainT</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (<span class="keyword">forall</span> a. m a -&gt; m a -&gt; m a) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m x <a href="src/Cooked.MockChain.Monad.Direct.html#combineMockChainT" class="link">Source</a> <a href="#v:combineMockChainT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapMockChainT" class="def">mapMockChainT</a> :: (m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)) -&gt; n (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (b, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>))) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> n b <a href="src/Cooked.MockChain.Monad.Direct.html#mapMockChainT" class="link">Source</a> <a href="#v:mapMockChainT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runMockChainTRaw" class="def">runMockChainTRaw</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>)) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChainTRaw" class="link">Source</a> <a href="#v:runMockChainTRaw" class="selflink">#</a></p><div class="doc"><p>Executes a <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></code> from some initial state and environment; does <em>not</em>
 convert the <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></code> into a <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:runMockChainTFrom" class="def">runMockChainTFrom</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>)) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChainTFrom" class="link">Source</a> <a href="#v:runMockChainTFrom" class="selflink">#</a></p><div class="doc"><p>Executes a <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></code> from an initial state set up with the given initial value distribution.
 Similar to <code><a href="Cooked-MockChain-Monad-Direct.html#v:runMockChainT" title="Cooked.MockChain.Monad.Direct">runMockChainT</a></code>, uses the default environment. Returns a <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code> instead of
 a <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a></code>. If you need the later, use <code><a href="Cooked-MockChain-Monad-Direct.html#v:runMockChainTRaw" title="Cooked.MockChain.Monad.Direct">runMockChainTRaw</a></code></p></div></div><div class="top"><p class="src"><a id="v:runMockChainT" class="def">runMockChainT</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m a -&gt; m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>)) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChainT" class="link">Source</a> <a href="#v:runMockChainT" class="selflink">#</a></p><div class="doc"><p>Executes a <code><a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a></code> from the canonical initial state and environment. The canonical
  environment uses the default <code>SlotConfig</code> and <code>[Cooked.MockChain.Wallet.wallet 1]</code> as the sole
  wallet signing transactions.</p></div></div><div class="top"><p class="src"><a id="v:runMockChainRaw" class="def">runMockChainRaw</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainEnv" title="Cooked.MockChain.Monad.Direct">MockChainEnv</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a>) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChainRaw" class="link">Source</a> <a href="#v:runMockChainRaw" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Cooked-MockChain-Monad-Direct.html#v:runMockChainTRaw" title="Cooked.MockChain.Monad.Direct">runMockChainTRaw</a></code></p></div></div><div class="top"><p class="src"><a id="v:runMockChainFrom" class="def">runMockChainFrom</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChainFrom" class="link">Source</a> <a href="#v:runMockChainFrom" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Cooked-MockChain-Monad-Direct.html#v:runMockChainTFrom" title="Cooked.MockChain.Monad.Direct">runMockChainTFrom</a></code></p></div></div><div class="top"><p class="src"><a id="v:runMockChain" class="def">runMockChain</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChain" title="Cooked.MockChain.Monad.Direct">MockChain</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> (a, <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a>) <a href="src/Cooked.MockChain.Monad.Direct.html#runMockChain" class="link">Source</a> <a href="#v:runMockChain" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Cooked-MockChain-Monad-Direct.html#v:runMockChainT" title="Cooked.MockChain.Monad.Direct">runMockChainT</a></code></p></div></div><div class="top"><p class="src"><a id="v:utxoState0" class="def">utxoState0</a> :: <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> <a href="src/Cooked.MockChain.Monad.Direct.html#utxoState0" class="link">Source</a> <a href="#v:utxoState0" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mockChainSt0" class="def">mockChainSt0</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> <a href="src/Cooked.MockChain.Monad.Direct.html#mockChainSt0" class="link">Source</a> <a href="#v:mockChainSt0" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mockChainSt0From" class="def">mockChainSt0From</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainSt" title="Cooked.MockChain.Monad.Direct">MockChainSt</a> <a href="src/Cooked.MockChain.Monad.Direct.html#mockChainSt0From" class="link">Source</a> <a href="#v:mockChainSt0From" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:utxoIndex0From" class="def">utxoIndex0From</a> :: <a href="Cooked-MockChain-Wallet.html#t:InitialDistribution" title="Cooked.MockChain.Wallet">InitialDistribution</a> -&gt; UtxoIndex <a href="src/Cooked.MockChain.Monad.Direct.html#utxoIndex0From" class="link">Source</a> <a href="#v:utxoIndex0From" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:utxoIndex0" class="def">utxoIndex0</a> :: UtxoIndex <a href="src/Cooked.MockChain.Monad.Direct.html#utxoIndex0" class="link">Source</a> <a href="#v:utxoIndex0" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>Direct Interpretation of Operations</h2></a><div class="top"><p class="src"><a id="v:runTransactionValidation" class="def">runTransactionValidation</a> <a href="src/Cooked.MockChain.Monad.Direct.html#runTransactionValidation" class="link">Source</a> <a href="#v:runTransactionValidation" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Slot</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Params</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; UtxoIndex</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [PaymentPubKeyHash]</td><td class="doc"><p>List of required signers</p></td></tr><tr><td class="src">-&gt; [<a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>]</td><td class="doc"><p>List of signers</p></td></tr><tr><td class="src">-&gt; Tx</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (UtxoIndex, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> ValidationErrorInPhase, [ScriptValidationEvent])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This validates a given <code>Tx</code> in its proper context; this is a very tricky thing to do. We're basing
  ourselves off from how <em>plutus-apps</em> is doing it.</p><p>TL;DR: we need to use <a href="Ledger-Index.html">Ledger.Index</a> to compute the new <code>UtxoIndex</code>, but we neet to
  rely on <a href="Ledger-Validation.html">Ledger.Validation</a> to run the validation akin to how it happens on-chain, with
  proper checks on transactions fees and signatures.</p><p>For more details, check the following relevant pointers:</p><ol><li><a href="https://github.com/tweag/plutus-libs/issues/92">https://github.com/tweag/plutus-libs/issues/92</a></li><li><a href="https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-ledger/src/Ledger/Tx.hs#L126">https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-ledger/src/Ledger/Tx.hs#L126</a></li><li><a href="https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Chain.hs#L209">https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Chain.hs#L209</a></li><li><a href="https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Wallet.hs#L314">https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Wallet.hs#L314</a></li></ol><p>Finally; because <code>fromPlutusTx</code> doesn't preserve signatures, we need the list of signers
 around to re-sign the transaction.</p></div></div><div class="top"><p class="src"><a id="v:validateTx-39-" class="def">validateTx'</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; [PaymentPubKeyHash] -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m TxId <a href="src/Cooked.MockChain.Monad.Direct.html#validateTx%27" class="link">Source</a> <a href="#v:validateTx-39-" class="selflink">#</a></p><div class="doc"><p>Check <code>validateTx</code> for details; we pass the list of required signatories since
 that is only truly available from the unbalanced tx, so we bubble that up all the way here.</p></div></div><div class="top"><p class="src"><a id="v:utxosSuchThat-39-" class="def">utxosSuchThat'</a> :: <span class="keyword">forall</span> a m. (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m, FromData a) =&gt; Address -&gt; (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a -&gt; Value -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>) -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)] <a href="src/Cooked.MockChain.Monad.Direct.html#utxosSuchThat%27" class="link">Source</a> <a href="#v:utxosSuchThat-39-" class="selflink">#</a></p><div class="doc"><p>Check <code><a href="Cooked-MockChain-Monad.html#v:utxosSuchThat" title="Cooked.MockChain.Monad">utxosSuchThat</a></code> for details</p></div></div><div class="top"><p class="src"><a id="v:generateUnbalTx" class="def">generateUnbalTx</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainError" title="Cooked.MockChain.Monad.Direct">MockChainError</a> UnbalancedTx <a href="src/Cooked.MockChain.Monad.Direct.html#generateUnbalTx" class="link">Source</a> <a href="#v:generateUnbalTx" class="selflink">#</a></p><div class="doc"><p>Generates an unbalanced transaction from a skeleton; A
  transaction is unbalanced whenever <code>inputs + mints != outputs + fees</code>.
  In order to submit a transaction, it must be balanced, otherwise
  we will see a <code>ValueNotPreserved</code> error.</p><p>See <a href="Cooked-Tx-Balance.html">Cooked.Tx.Balance</a> for balancing capabilities or stick to
  <code>generateTx</code>, which generates <em>and</em> balances a transaction.</p></div></div><div class="top"><p class="src"><a id="v:myAdjustUnbalTx" class="def">myAdjustUnbalTx</a> :: Params -&gt; UnbalancedTx -&gt; UnbalancedTx <a href="src/Cooked.MockChain.Monad.Direct.html#myAdjustUnbalTx" class="link">Source</a> <a href="#v:myAdjustUnbalTx" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:generateTx-39-" class="def">generateTx'</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m ([PaymentPubKeyHash], Tx) <a href="src/Cooked.MockChain.Monad.Direct.html#generateTx%27" class="link">Source</a> <a href="#v:generateTx-39-" class="selflink">#</a></p><div class="doc"><p>Check <code>generateTx</code> for details</p></div></div><div class="top"><p class="src"><a id="v:setFeeAndValidRange" class="def">setFeeAndValidRange</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; UnbalancedTx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Tx <a href="src/Cooked.MockChain.Monad.Direct.html#setFeeAndValidRange" class="link">Source</a> <a href="#v:setFeeAndValidRange" class="selflink">#</a></p><div class="doc"><p>Sets the <code>txFee</code> and <code>txValidRange</code> according to our environment. The transaction
 fee gets set realistically, based on a fixpoint calculation taken from <em>plutus-apps</em>,
 see <a href="https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Wallet.hs#L314">https://github.com/input-output-hk/plutus-apps/blob/03ba6b7e8b9371adf352ffd53df8170633b6dffa/plutus-contract/src/Wallet/Emulator/Wallet.hs#L314</a></p></div></div><div class="top"><p class="src"><a id="v:balanceTxFrom" class="def">balanceTxFrom</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> -&gt; <a href="Cooked-Tx-Constraints-Type.html#t:Collateral" title="Cooked.Tx.Constraints.Type">Collateral</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; UnbalancedTx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m ([PaymentPubKeyHash], Tx) <a href="src/Cooked.MockChain.Monad.Direct.html#balanceTxFrom" class="link">Source</a> <a href="#v:balanceTxFrom" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:calcCollateral" class="def">calcCollateral</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-Tx-Constraints-Type.html#t:Collateral" title="Cooked.Tx.Constraints.Type">Collateral</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> TxIn) <a href="src/Cooked.MockChain.Monad.Direct.html#calcCollateral" class="link">Source</a> <a href="#v:calcCollateral" class="selflink">#</a></p><div class="doc"><p>Calculates the collateral for a some transaction</p></div></div><div class="top"><p class="src"><a id="v:balanceTxFromAux" class="def">balanceTxFromAux</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceStage" title="Cooked.MockChain.Monad.Direct">BalanceStage</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m Tx <a href="src/Cooked.MockChain.Monad.Direct.html#balanceTxFromAux" class="link">Source</a> <a href="#v:balanceTxFromAux" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BalanceTxRes" class="def">BalanceTxRes</a> <a href="src/Cooked.MockChain.Monad.Direct.html#BalanceTxRes" class="link">Source</a> <a href="#t:BalanceTxRes" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BalanceTxRes" class="def">BalanceTxRes</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:newInputs" class="def">newInputs</a> :: [TxOutRef]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:returnValue" class="def">returnValue</a> :: Value</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:remainderUtxos" class="def">remainderUtxos</a> :: [(TxOutRef, TxOut)]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BalanceTxRes">Instances</h4><details id="i:BalanceTxRes" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:BalanceTxRes:Eq:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Eq" title="Distribution.Compat.Prelude.Internal">Eq</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-541" class="link">Source</a> <a href="#t:BalanceTxRes" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:BalanceTxRes:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:BalanceTxRes:Show:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a></span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-541" class="link">Source</a> <a href="#t:BalanceTxRes" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:BalanceTxRes:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Direct.html">Cooked.MockChain.Monad.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:calcBalanceTx" class="def">calcBalanceTx</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; Tx -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:MockChainT" title="Cooked.MockChain.Monad.Direct">MockChainT</a> m <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> <a href="src/Cooked.MockChain.Monad.Direct.html#calcBalanceTx" class="link">Source</a> <a href="#v:calcBalanceTx" class="selflink">#</a></p><div class="doc"><p>Calculate the changes needed to balance a transaction with money from a given wallet.
 Every transaction that is sent to the chain must be balanced, that is: <code>inputs + mint == outputs + fee</code>.</p></div></div><div class="top"><p class="src"><a id="v:applyBalanceTx" class="def">applyBalanceTx</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:BalanceOutputPolicy" title="Cooked.Tx.Constraints.Type">BalanceOutputPolicy</a> -&gt; <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Direct.html#t:BalanceTxRes" title="Cooked.MockChain.Monad.Direct">BalanceTxRes</a> -&gt; Tx -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> Tx <a href="src/Cooked.MockChain.Monad.Direct.html#applyBalanceTx" class="link">Source</a> <a href="#v:applyBalanceTx" class="selflink">#</a></p><div class="doc"><p>Once we calculated what is needed to balance a transaction <code>tx</code>, we still need to
 apply those changes to <code>tx</code>. Because of the <code><a href="Ledger.html#v:minAdaTxOut" title="Ledger">minAdaTxOut</a></code> constraint, this
 might not be possible: imagine the leftover is less than <code><a href="Ledger.html#v:minAdaTxOut" title="Ledger">minAdaTxOut</a></code>, but
 the transaction has no output addressed to the sending wallet. If we just
 create a new ouput for <code>w</code> and place the leftover there the resulting tx will fail to validate
 with <a href="LessThanMinAdaPerUTxO.html">LessThanMinAdaPerUTxO</a> error. Instead, we need to consume yet another UTxO belonging to <code>w</code> to
 then create the output with the proper leftover. If <code>w</code> has no UTxO, then there's no
 way to balance this transaction.</p></div></div><a href="#g:3" id="g:3"><h1>Utilities</h1></a><div class="top"><p class="src"><a id="v:onlyAdaPkTxOut" class="def">onlyAdaPkTxOut</a> :: TxOut -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> PubKeyHash <a href="src/Cooked.MockChain.Monad.Direct.html#onlyAdaPkTxOut" class="link">Source</a> <a href="#v:onlyAdaPkTxOut" class="selflink">#</a></p><div class="doc"><p>returns public key hash when txout contains only ada tokens and that no datum hash is specified.</p></div></div><div class="top"><p class="src"><a id="v:addressIsPK" class="def">addressIsPK</a> :: Address -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> PubKeyHash <a href="src/Cooked.MockChain.Monad.Direct.html#addressIsPK" class="link">Source</a> <a href="#v:addressIsPK" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rstr" class="def">rstr</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (a, m b) -&gt; m (a, b) <a href="src/Cooked.MockChain.Monad.Direct.html#rstr" class="link">Source</a> <a href="#v:rstr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assocl" class="def">assocl</a> :: (a, (b, c)) -&gt; ((a, b), c) <a href="src/Cooked.MockChain.Monad.Direct.html#assocl" class="link">Source</a> <a href="#v:assocl" class="selflink">#</a></p></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Default:Default:1"></span> Default Slot</span> <a href="src/Cooked.MockChain.Monad.Direct.html#line-90" class="link">Source</a> <a href="#v:-36-fDefaultSlot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Default:Default:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: Slot</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>