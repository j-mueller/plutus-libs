<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.Ltl</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators-0.2.0</span><ul class="links" id="page-menu"><li><a href="src/Cooked.Ltl.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.Ltl</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">LTL formulas and operations on them</a></li><li><a href="#g:2">An AST for &quot;reified computations&quot;</a></li><li><a href="#g:3">Interpreting the AST</a></li><li><a href="#g:4">Convenience functions</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Ltl">Ltl</a> a<ul class="subs"><li>= <a href="#v:LtlTruth">LtlTruth</a></li><li>| <a href="#v:LtlFalsity">LtlFalsity</a></li><li>| <a href="#v:LtlAtom">LtlAtom</a> a</li><li>| <a href="#v:LtlOr">LtlOr</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlAnd">LtlAnd</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlNext">LtlNext</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlUntil">LtlUntil</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlRelease">LtlRelease</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li></ul></li><li class="src short"><a href="#v:nowLater">nowLater</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> a =&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; [(a, <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)]</li><li class="src short"><a href="#v:finished">finished</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:nowLaterList">nowLaterList</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> a =&gt; [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; [(a, [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a])]</li><li class="src short"><a href="#v:ltlSimpl">ltlSimpl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:LtlOp">LtlOp</a> (modification :: *) (builtin :: * -&gt; *) :: * -&gt; * <span class="keyword">where</span><ul class="subs"><li><a href="#v:StartLtl">StartLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin ()</li><li><a href="#v:StopLtl">StopLtl</a> :: <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin ()</li><li><a href="#v:Builtin">Builtin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Staged">Staged</a> (op :: * -&gt; *) :: * -&gt; * <span class="keyword">where</span><ul class="subs"><li><a href="#v:Return">Return</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a</li><li><a href="#v:Instr">Instr</a> :: op a -&gt; (a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadPlus" title="Distribution.Compat.Prelude.Internal">MonadPlus</a> m =&gt; <a href="#t:InterpLtl">InterpLtl</a> modification builtin m <span class="keyword">where</span><ul class="subs"><li><a href="#v:interpBuiltin">interpBuiltin</a> :: builtin a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a</li></ul></li><li class="src short"><a href="#v:interpLtl">interpLtl</a> :: <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> modification builtin m =&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a</li><li class="src short"><a href="#v:interpLtlAndPruneUnfinished">interpLtlAndPruneUnfinished</a> :: <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> modification builtin m =&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a</li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a href="#t:MonadModal">MonadModal</a> m <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:Modification">Modification</a> m :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> (<a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m) -&gt; m a -&gt; m a</li></ul></li><li class="src short"><a href="#v:somewhere">somewhere</a> :: <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> m =&gt; <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:everywhere">everywhere</a> :: <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> m =&gt; <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m -&gt; m a -&gt; m a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>LTL formulas and operations on them</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Ltl" class="def">Ltl</a> a <a href="src/Cooked.Ltl.html#Ltl" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></p><div class="doc"><p>Type of LTL formulas with atomic formulas of type <code>a</code>. Think of <code>a</code> as a
 type of &quot;modifications&quot;, then a value of type <code>Ltl a</code> describes where to
 apply modifications. Since it does not make (obvious) sense to talk of a
 negated modification or of one modification (possibly in the future) to
 imply another modification, implication and negation are absent.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LtlTruth" class="def">LtlTruth</a></td><td class="doc"><p>The &quot;do nothing&quot; modification that never fails</p></td></tr><tr><td class="src"><a id="v:LtlFalsity" class="def">LtlFalsity</a></td><td class="doc"><p>The modification that never applies (i.e. always fails)</p></td></tr><tr><td class="src"><a id="v:LtlAtom" class="def">LtlAtom</a> a</td><td class="doc"><p>The modification that applies a given atomic modification at the current time step</p></td></tr><tr><td class="src"><a id="v:LtlOr" class="def">LtlOr</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Disjunction will be interpreted in an &quot;intuitionistic&quot; way, i.e. as
 branching into the &quot;timeline&quot; where the left disjunct holds and the one
 where the right disjunct holds. In that sense, it is an exclusive or,
 as it does not introduce the branch where both disjuncts hold.</p></td></tr><tr><td class="src"><a id="v:LtlAnd" class="def">LtlAnd</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Conjunction will be interpreted as &quot;apply both
 modifications&quot;. Attention: The &quot;apply both&quot; operation will be
 user-defined for atomic modifications, so that conjunction may for
 example fail to be commutative if the operation on atomic modification is
 not commutative.</p></td></tr><tr><td class="src"><a id="v:LtlNext" class="def">LtlNext</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the given formula holds at the next time step.</p></td></tr><tr><td class="src"><a id="v:LtlUntil" class="def">LtlUntil</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the first formula holds at least until the second one begins
 to hold, which must happen eventually. The formulas
 &gt; a <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code> b
 and
 &gt; b <code><a href="Cooked-Ltl.html#v:LtlOr" title="Cooked.Ltl">LtlOr</a></code> (a <code><a href="Cooked-Ltl.html#v:LtlAnd" title="Cooked.Ltl">LtlAnd</a></code> LtlNext (a <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code> b))
 are equivalent.</p></td></tr><tr><td class="src"><a id="v:LtlRelease" class="def">LtlRelease</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the second formula has to be true up to and including the
 point when the first one becomes true; if that never happens, the second
 formula has to remain true forever. View this as dual to <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code>. The
 formulas
 &gt; a <code><a href="Cooked-Ltl.html#v:LtlRelease" title="Cooked.Ltl">LtlRelease</a></code> b
 and
 &gt; b <code><a href="Cooked-Ltl.html#v:LtlAnd" title="Cooked.Ltl">LtlAnd</a></code> (a <code><a href="Cooked-Ltl.html#v:LtlOr" title="Cooked.Ltl">LtlOr</a></code> LtlNext (a <code><a href="Cooked-Ltl.html#v:LtlRelease" title="Cooked.Ltl">LtlRelease</a></code> b))
 are equivalent.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Ltl">Instances</h4><details id="i:Ltl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Ltl:Show:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</span> <a href="src/Cooked.Ltl.html#line-57" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Ltl:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:nowLater" class="def">nowLater</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> a =&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; [(a, <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)] <a href="src/Cooked.Ltl.html#nowLater" class="link">Source</a> <a href="#v:nowLater" class="selflink">#</a></p><div class="doc"><p>Split an LTL formula that describes a modification of a computation into a
 list of <code>(doNow, doLater)</code> pairs, where</p><ul><li><code>doNow</code> is the modification to be applied to the current time step,</li><li><code>doLater</code> is an LTL formula describing the modification that should be
   applied from the next time step onwards, and</li></ul><p>The return value is a list because a formula might be satisfied in different
 ways. For example, the modification described by <code>a <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code> b</code> might be
 accomplished by applying the modification <code>b</code> right now, or by applying <code>a</code>
 right now and <code>a <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code> b</code> from the next step onwards; the returned list
 will contain these two options.</p><p>Modifications should form a <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a></code>, where <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#v:mempty" title="Distribution.Compat.Semigroup">mempty</a></code> is the do-nothing
 modification, and <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#v:-60--62-" title="Distribution.Compat.Semigroup">&lt;&gt;</a></code> is the composition of modifications. We interpret <code>a
 &lt;&gt; b</code> as the modification that first applies <code>b</code> and then <code>a</code>. Attention:
 Since we use <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#v:-60--62-" title="Distribution.Compat.Semigroup">&lt;&gt;</a></code> to define conjunction, if <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#v:-60--62-" title="Distribution.Compat.Semigroup">&lt;&gt;</a></code> is not commutative,
 conjunction will also fail to be commutative!</p></div></div><div class="top"><p class="src"><a id="v:finished" class="def">finished</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Cooked.Ltl.html#finished" class="link">Source</a> <a href="#v:finished" class="selflink">#</a></p><div class="doc"><p>If there are no more steps and the next step should satisfy the given
 formula: Are we finished, i.e. was the initial formula satisfied by now?</p></div></div><div class="top"><p class="src"><a id="v:nowLaterList" class="def">nowLaterList</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> a =&gt; [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; [(a, [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a])] <a href="src/Cooked.Ltl.html#nowLaterList" class="link">Source</a> <a href="#v:nowLaterList" class="selflink">#</a></p><div class="doc"><p>Say we're passing around more than one formula from each time step to the
 next, where the intended meaning of a list of formulas is the modification
 that applies the first formula in the list first, then the second formula,
 then the third and so on. We'd still like to compute a list of <code>(doNow,
 doLater)</code> pairs as in <code><a href="Cooked-Ltl.html#v:nowLater" title="Cooked.Ltl">nowLater</a></code>, only that the <code>doLater</code> should again be a
 list of formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlSimpl" class="def">ltlSimpl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlSimpl" class="link">Source</a> <a href="#v:ltlSimpl" class="selflink">#</a></p><div class="doc"><p>Straightforward simplification procedure for LTL formulas. This function
 knows how <code><a href="Cooked-Ltl.html#v:LtlTruth" title="Cooked.Ltl">LtlTruth</a></code> and <code><a href="Cooked-Ltl.html#v:LtlFalsity" title="Cooked.Ltl">LtlFalsity</a></code> play with conjunction and disjunction
 and recursively applies this knowledge; it does not do anything &quot;fancy&quot; like
 computing a normal form and is only used to keep the formulas <code><a href="Cooked-Ltl.html#v:nowLater" title="Cooked.Ltl">nowLater</a></code>
 generates from growing too wildly.</p></div></div><a href="#g:2" id="g:2"><h1>An AST for &quot;reified computations&quot;</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LtlOp" class="def">LtlOp</a> (modification :: *) (builtin :: * -&gt; *) :: * -&gt; * <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#LtlOp" class="link">Source</a> <a href="#t:LtlOp" class="selflink">#</a></p><div class="doc"><p>The idea is that a value of type <code>Staged (LtlOp modification builtin) a</code>
 describes a set of (monadic) computations that return an <code>a</code> such that</p><ul><li>every step of the computations that returns a <code>b</code> is reified as a <code>builtin
   b</code>, and</li><li>every step can be modified by a <code>modification</code>.</li></ul><p>Operations for computations that can be modified using LTL formulas.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StartLtl" class="def">StartLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin ()</td><td class="doc"><p>The operation that introduces a new LTL formula that should be used to
 modify the following computations. Think of this operation as coming
 between time steps and adding a new formula to be applied before all of the
 formulas that should already be applied to the next time step.</p></td></tr><tr><td class="src"><a id="v:StopLtl" class="def">StopLtl</a> :: <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin ()</td><td class="doc"><p>The operation that removes the last LTL formula that was introduced. If
 the formula is not yet <code><a href="Cooked-Ltl.html#v:finished" title="Cooked.Ltl">finished</a></code>, the current time line will fail.</p></td></tr><tr><td class="src"><a id="v:Builtin" class="def">Builtin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LtlOp">Instances</h4><details id="i:LtlOp" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadFail:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-104" class="link">Source</a> <a href="#t:MonadFail" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:Alternative:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-100" class="link">Source</a> <a href="#t:Alternative" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:Alternative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadMockChain:3"></span> <a href="Cooked-MockChain-Monad.html#t:MonadMockChain" title="Cooked.MockChain.Monad">MonadMockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-179" class="link">Source</a> <a href="#t:MonadMockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadMockChain:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:signingWith">signingWith</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#signingWith" class="link">Source</a> <a href="#v:signingWith" class="selflink">#</a></p><p class="src"><a href="#v:askSigners">askSigners</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>) <a href="src/Cooked.MockChain.Monad.html#askSigners" class="link">Source</a> <a href="#v:askSigners" class="selflink">#</a></p><p class="src"><a href="#v:params">params</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Params <a href="src/Cooked.MockChain.Monad.html#params" class="link">Source</a> <a href="#v:params" class="selflink">#</a></p><p class="src"><a href="#v:localParams">localParams</a> :: (Params -&gt; Params) -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#localParams" class="link">Source</a> <a href="#v:localParams" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadBlockChain:4"></span> <a href="Cooked-MockChain-Monad.html#t:MonadBlockChain" title="Cooked.MockChain.Monad">MonadBlockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-169" class="link">Source</a> <a href="#t:MonadBlockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadBlockChain:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:validateTxSkel">validateTxSkel</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> CardanoTx <a href="src/Cooked.MockChain.Monad.html#validateTxSkel" class="link">Source</a> <a href="#v:validateTxSkel" class="selflink">#</a></p><p class="src"><a href="#v:utxosSuchThat">utxosSuchThat</a> :: FromData a =&gt; Address -&gt; <a href="Cooked-MockChain-UtxoPredicate.html#t:UtxoPredicate" title="Cooked.MockChain.UtxoPredicate">UtxoPredicate</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)] <a href="src/Cooked.MockChain.Monad.html#utxosSuchThat" class="link">Source</a> <a href="#v:utxosSuchThat" class="selflink">#</a></p><p class="src"><a href="#v:txOutByRef">txOutByRef</a> :: TxOutRef -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOut) <a href="src/Cooked.MockChain.Monad.html#txOutByRef" class="link">Source</a> <a href="#v:txOutByRef" class="selflink">#</a></p><p class="src"><a href="#v:ownPaymentPubKeyHash">ownPaymentPubKeyHash</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> PubKeyHash <a href="src/Cooked.MockChain.Monad.html#ownPaymentPubKeyHash" class="link">Source</a> <a href="#v:ownPaymentPubKeyHash" class="selflink">#</a></p><p class="src"><a href="#v:currentSlot">currentSlot</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#currentSlot" class="link">Source</a> <a href="#v:currentSlot" class="selflink">#</a></p><p class="src"><a href="#v:currentTime">currentTime</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#currentTime" class="link">Source</a> <a href="#v:currentTime" class="selflink">#</a></p><p class="src"><a href="#v:awaitSlot">awaitSlot</a> :: Slot -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#awaitSlot" class="link">Source</a> <a href="#v:awaitSlot" class="selflink">#</a></p><p class="src"><a href="#v:awaitTime">awaitTime</a> :: POSIXTime -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#awaitTime" class="link">Source</a> <a href="#v:awaitTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadModal:5"></span> <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))</span> <a href="src/Cooked.Ltl.html#line-293" class="link">Source</a> <a href="#t:LtlOp" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadModal:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)) <a href="src/Cooked.Ltl.html#Modification" class="link">Source</a> <a href="#t:Modification" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> (<a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:Modification:6"></span> <span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))</span> <a href="src/Cooked.Ltl.html#line-294" class="link">Source</a> <a href="#t:LtlOp" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:Modification:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="src"><span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)) = modification</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Staged" class="def">Staged</a> (op :: * -&gt; *) :: * -&gt; * <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#Staged" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></p><div class="doc"><p>The freer monad on <code>op</code>. We think of this as the AST of a computation with
 operations of types <code>op a</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Return" class="def">Return</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Instr" class="def">Instr</a> :: op a -&gt; (a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Staged">Instances</h4><details id="i:Staged" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:MonadFail:1"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-104" class="link">Source</a> <a href="#t:MonadFail" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:Alternative:2"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-100" class="link">Source</a> <a href="#t:Alternative" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:Alternative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:MonadMockChain:3"></span> <a href="Cooked-MockChain-Monad.html#t:MonadMockChain" title="Cooked.MockChain.Monad">MonadMockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-179" class="link">Source</a> <a href="#t:MonadMockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:MonadMockChain:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:signingWith">signingWith</a> :: <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#signingWith" class="link">Source</a> <a href="#v:signingWith" class="selflink">#</a></p><p class="src"><a href="#v:askSigners">askSigners</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:NonEmpty" title="Distribution.Compat.Prelude.Internal">NonEmpty</a> <a href="Cooked-MockChain-Wallet.html#t:Wallet" title="Cooked.MockChain.Wallet">Wallet</a>) <a href="src/Cooked.MockChain.Monad.html#askSigners" class="link">Source</a> <a href="#v:askSigners" class="selflink">#</a></p><p class="src"><a href="#v:params">params</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Params <a href="src/Cooked.MockChain.Monad.html#params" class="link">Source</a> <a href="#v:params" class="selflink">#</a></p><p class="src"><a href="#v:localParams">localParams</a> :: (Params -&gt; Params) -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.Monad.html#localParams" class="link">Source</a> <a href="#v:localParams" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:MonadBlockChain:4"></span> <a href="Cooked-MockChain-Monad.html#t:MonadBlockChain" title="Cooked.MockChain.Monad">MonadBlockChain</a> <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-169" class="link">Source</a> <a href="#t:MonadBlockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:MonadBlockChain:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:validateTxSkel">validateTxSkel</a> :: <a href="Cooked-Tx-Constraints-Type.html#t:TxSkel" title="Cooked.Tx.Constraints.Type">TxSkel</a> -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> CardanoTx <a href="src/Cooked.MockChain.Monad.html#validateTxSkel" class="link">Source</a> <a href="#v:validateTxSkel" class="selflink">#</a></p><p class="src"><a href="#v:utxosSuchThat">utxosSuchThat</a> :: FromData a =&gt; Address -&gt; <a href="Cooked-MockChain-UtxoPredicate.html#t:UtxoPredicate" title="Cooked.MockChain.UtxoPredicate">UtxoPredicate</a> a -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> [(<a href="Cooked-Tx-Constraints-Type.html#t:SpendableOut" title="Cooked.Tx.Constraints.Type">SpendableOut</a>, <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a)] <a href="src/Cooked.MockChain.Monad.html#utxosSuchThat" class="link">Source</a> <a href="#v:utxosSuchThat" class="selflink">#</a></p><p class="src"><a href="#v:txOutByRef">txOutByRef</a> :: TxOutRef -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> (<a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> TxOut) <a href="src/Cooked.MockChain.Monad.html#txOutByRef" class="link">Source</a> <a href="#v:txOutByRef" class="selflink">#</a></p><p class="src"><a href="#v:ownPaymentPubKeyHash">ownPaymentPubKeyHash</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> PubKeyHash <a href="src/Cooked.MockChain.Monad.html#ownPaymentPubKeyHash" class="link">Source</a> <a href="#v:ownPaymentPubKeyHash" class="selflink">#</a></p><p class="src"><a href="#v:currentSlot">currentSlot</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#currentSlot" class="link">Source</a> <a href="#v:currentSlot" class="selflink">#</a></p><p class="src"><a href="#v:currentTime">currentTime</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#currentTime" class="link">Source</a> <a href="#v:currentTime" class="selflink">#</a></p><p class="src"><a href="#v:awaitSlot">awaitSlot</a> :: Slot -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> Slot <a href="src/Cooked.MockChain.Monad.html#awaitSlot" class="link">Source</a> <a href="#v:awaitSlot" class="selflink">#</a></p><p class="src"><a href="#v:awaitTime">awaitTime</a> :: POSIXTime -&gt; <a href="Cooked-MockChain-Monad-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Monad.Staged">StagedMockChain</a> POSIXTime <a href="src/Cooked.MockChain.Monad.html#awaitTime" class="link">Source</a> <a href="#v:awaitTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:Monad:5"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op)</span> <a href="src/Cooked.Ltl.html#line-214" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:Monad:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; (a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:Functor:6"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op)</span> <a href="src/Cooked.Ltl.html#line-206" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:Functor:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:Applicative:7"></span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op)</span> <a href="src/Cooked.Ltl.html#line-210" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:Applicative:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op (a -&gt; b) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op b -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> op a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:MonadModal:8"></span> <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))</span> <a href="src/Cooked.Ltl.html#line-293" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:MonadModal:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)) <a href="src/Cooked.Ltl.html#Modification" class="link">Source</a> <a href="#t:Modification" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> (<a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Staged:Modification:9"></span> <span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))</span> <a href="src/Cooked.Ltl.html#line-294" class="link">Source</a> <a href="#t:Staged" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Staged:Modification:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="src"><span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)) = modification</div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Interpreting the AST</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadPlus" title="Distribution.Compat.Prelude.Internal">MonadPlus</a> m =&gt; <a id="t:InterpLtl" class="def">InterpLtl</a> modification builtin m <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#InterpLtl" class="link">Source</a> <a href="#t:InterpLtl" class="selflink">#</a></p><div class="doc"><p>To be a suitable semantic domain for computations modified by LTL formulas,
 a monad <code>m</code> has to</p><ul><li>have the right <code>builtin</code> functions, which can be modified by the right
   <code>modification</code>s,</li><li>be a <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:MonadPlus" title="Distribution.Compat.Prelude.Internal">MonadPlus</a></code>, because one LTL formula might yield different modified
   versions of the computation, and</li></ul><p>This type class only requires from the user to specify how to interpret the
 (modified) builtins. In order to do so, it passes around the formulas that
 are to be applied to the next time step in a <code>StateT</code>. A common idiom to
 modify an operation should be this:</p><pre>interpBuiltin op =
 get
   &gt;&gt;= msum
     . map (\(now, later) -&gt; applyModification now op &lt;* put later)
     . nowLaterList</pre><p>(But to write this, <code>modification</code> has to be a <code><a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a></code> to make
 <code><a href="Cooked-Ltl.html#v:nowLaterList" title="Cooked.Ltl">nowLaterList</a></code> work!) Look at the tests for this module and at
 <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a> for examples of how to use this type class.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:interpBuiltin" class="def">interpBuiltin</a> :: builtin a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a <a href="src/Cooked.Ltl.html#interpBuiltin" class="link">Source</a> <a href="#v:interpBuiltin" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InterpLtl">Instances</h4><details id="i:InterpLtl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:InterpLtl:InterpLtl:1"></span> <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a> <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a></span> <a href="src/Cooked.MockChain.Monad.Staged.html#line-121" class="link">Source</a> <a href="#t:InterpLtl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:InterpLtl:InterpLtl:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Monad-Staged.html">Cooked.MockChain.Monad.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:interpBuiltin">interpBuiltin</a> :: <a href="Cooked-MockChain-Monad-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Monad.Staged">MockChainBuiltin</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> <a href="Cooked-Attack-Common.html#t:Attack" title="Cooked.Attack.Common">Attack</a>] <a href="Cooked-MockChain-Monad-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Monad.Staged">InterpMockChain</a> a <a href="src/Cooked.Ltl.html#interpBuiltin" class="link">Source</a> <a href="#v:interpBuiltin" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:interpLtl" class="def">interpLtl</a> :: <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> modification builtin m =&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a <a href="src/Cooked.Ltl.html#interpLtl" class="link">Source</a> <a href="#v:interpLtl" class="selflink">#</a></p><div class="doc"><p>Interpret a <code><a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a></code> computation into a suitable domain, using the function
 <code><a href="Cooked-Ltl.html#v:interpBuiltin" title="Cooked.Ltl">interpBuiltin</a></code> to interpret the builtins.</p></div></div><div class="top"><p class="src"><a id="v:interpLtlAndPruneUnfinished" class="def">interpLtlAndPruneUnfinished</a> :: <a href="Cooked-Ltl.html#t:InterpLtl" title="Cooked.Ltl">InterpLtl</a> modification builtin m =&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification] m a <a href="src/Cooked.Ltl.html#interpLtlAndPruneUnfinished" class="link">Source</a> <a href="#v:interpLtlAndPruneUnfinished" class="selflink">#</a></p><div class="doc"><p>Interpret a <code><a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a></code> computation into a suitable domain, using the function
 <code><a href="Cooked-Ltl.html#v:interpBuiltin" title="Cooked.Ltl">interpBuiltin</a></code> to interpret the builtins. At the end of the computation,
 prune branches that still have un<code><a href="Cooked-Ltl.html#v:finished" title="Cooked.Ltl">finished</a></code> modifications applied to
 them. See the discussion on the regression test case for PRs 110 and 131 in
 <code><a href="StagedSpec.html#v:hs" title="StagedSpec">hs</a></code> for a discussion on why this function has to exist.</p></div></div><a href="#g:4" id="g:4"><h1>Convenience functions</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/packages/archive/Cabal/latest/doc/html/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; <a id="t:MonadModal" class="def">MonadModal</a> m <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#MonadModal" class="link">Source</a> <a href="#t:MonadModal" class="selflink">#</a></p><div class="doc"><p>Monads that allow modificaitons with LTL formulas.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:Modification" class="def">Modification</a> m :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Cooked.Ltl.html#Modification" class="link">Source</a> <a href="#t:Modification" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:modifyLtl" class="def">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> (<a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m) -&gt; m a -&gt; m a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadModal">Instances</h4><details id="i:MonadModal" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadModal:MonadModal:1"></span> <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))</span> <a href="src/Cooked.Ltl.html#line-293" class="link">Source</a> <a href="#t:MonadModal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadModal:MonadModal:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)) <a href="src/Cooked.Ltl.html#Modification" class="link">Source</a> <a href="#t:Modification" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> (<a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> (<a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin))) -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a -&gt; <a href="Cooked-Ltl.html#t:Staged" title="Cooked.Ltl">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:somewhere" class="def">somewhere</a> :: <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> m =&gt; <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m -&gt; m a -&gt; m a <a href="src/Cooked.Ltl.html#somewhere" class="link">Source</a> <a href="#v:somewhere" class="selflink">#</a></p><div class="doc"><p>Apply a modification somewhere in the given computation. The modification
 must apply at least once.</p></div></div><div class="top"><p class="src"><a id="v:everywhere" class="def">everywhere</a> :: <a href="Cooked-Ltl.html#t:MonadModal" title="Cooked.Ltl">MonadModal</a> m =&gt; <a href="Cooked-Ltl.html#t:Modification" title="Cooked.Ltl">Modification</a> m -&gt; m a -&gt; m a <a href="src/Cooked.Ltl.html#everywhere" class="link">Source</a> <a href="#v:everywhere" class="selflink">#</a></p><div class="doc"><p>Apply a modification everywhere in the given computation. This is also
 successful if there are no modifiable time steps.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>